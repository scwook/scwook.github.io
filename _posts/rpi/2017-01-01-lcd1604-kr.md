---
layout: post
title: "16x4 Character LCD Test"
language:
  - en
  - kr
categories: RaspberryPi
---
[LCD1602]({{site.url}}/raspberrypi/2016/12/29/lcd1602-kr.html)보다 2Line 더 출력할 수 있는 1604

Wiring Pi는 몇가지 하드웨어를 위한 [Device Driver Library](http://wiringpi.com/dev-lib/)를 제공하고 있다. 여기에서는 Hitachi HD44780U기반의 16x2 Character LCD에 현재시간을 표시하는 테스트를 진행한다. 테스트를 위해서는 [WiringPi]({{site.url}}/raspberrypi/2016/05/20/wiringPi-installation-kr.html)가 설치되어 있어야 한다.

### Component

* Raspberry Pi 2 Model B
* [LCD1620](http://www.waveshare.com/lcd1604-blue.htm)
* Resistor 1~2kΩ

![LCD1604 Test Circuit]({{site.url}}/images/rpi_lcd1604_test.png)

### Source Code

filename: lcd1604Test.c

{% highlight c linenos %}
#include <stdio.h>
#include <wiringPi.h>
#include <lcd.h>

#define TRUE 1
#define FALSE 0

int main(void)
{
  if(wiringPiSetup() == -1)
  {
    printf("Unable to start wiringPi\n");
    return 1;
  }

  int fd;

  fd = lcdInit(4, 16, 8, 28, 29, 0,1,2,3,4,5,6,7);

  lcdHome(fd);
  lcdCursor(fd, TRUE);
  lcdCursorBlink(fd, FALSE);

  lcdPosition(fd, 0,0);
  lcdPrintf(fd, "Line1");

  lcdPosition(fd, 0,1);
  lcdPrintf(fd, "Line2");

  lcdPosition(fd, 0,2);
  lcdPrintf(fd, "Line3");

  lcdPosition(fd, 0,3);
  lcdPrintf(fd, "Line4");

  return 0;
}
{% endhighlight %}

컴파일 후 프로그램을 실행한다.

{% highlight shell %}
pi@raspberrypi ~$ gcc -o lcd1604Test lcd1604Test.c -lwiringPi -lwiringPiDev
pi@raspberrypi ~$ sudo ./lcd1604Test
{% endhighlight %}
